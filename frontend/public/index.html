<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>MQTT over WebTransport → QUIC → EMQX</title>
    <style>
      body {
        font-family: system-ui, sans-serif;
        margin: 1rem;
      }
      fieldset {
        margin-bottom: 1rem;
        padding: 0.75rem;
      }
      input, button {
        margin: 0.25rem 0;
      }
      #log, #messages {
        border: 1px solid #ccc;
        padding: 0.5rem;
        height: 200px;
        overflow: auto;
        font-family: monospace;
        background: #fafafa;
      }
      #messages {
        background: #f3f9f3;
      }
    </style>
  </head>
  <body>
    <h1>MQTT over WebTransport → QUIC → EMQX</h1>

    <fieldset>
      <legend>Connection</legend>
      <label>
        Bridge URL:
        <input id="bridgeUrl" size="60" value="https://nam5gxr.duckdns.org:1027/mqtt" />
      </label>
      <br />
      <button id="connectBtn">Connect</button>
      <button id="disconnectBtn" disabled>Disconnect</button>
      <span id="status">Disconnected</span>
    </fieldset>

    <fieldset>
      <legend>Subscribe</legend>
      <label>
        Topic:
        <input id="subTopic" size="40" value="test/topic" />
      </label>
      <button id="subBtn" disabled>Subscribe</button>
    </fieldset>

    <fieldset>
      <legend>Publish</legend>
      <label>
        Topic:
        <input id="pubTopic" size="40" value="test/topic" />
      </label>
      <br />
      <label>
        Payload:
        <input id="pubPayload" size="40" value="hello from WebTransport" />
      </label>
      <br />
      <button id="pubBtn" disabled>Publish</button>
    </fieldset>

    <fieldset>
      <legend>Received Messages</legend>
      <div id="messages"></div>
    </fieldset>

    <fieldset>
      <legend>Log</legend>
      <div id="log"></div>
    </fieldset>

    <script type="module" src="./main.js"></script>
  </body>
</html>
